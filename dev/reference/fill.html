<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Fill in missing values with previous or next value — fill • tidyr</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Fill in missing values with previous or next value — fill"><meta name="description" content="Fills missing values in selected columns using the next or previous entry.
This is useful in the common output format where values are not repeated,
and are only recorded when they change."><meta property="og:description" content="Fills missing values in selected columns using the next or previous entry.
This is useful in the common output format where values are not repeated,
and are only recorded when they change."><meta property="og:image" content="https://tidyr.tidyverse.org/logo.png"><meta name="robots" content="noindex"><script src="https://cdn.jsdelivr.net/gh/posit-dev/supported-by-posit/js/badge.min.js" data-max-height="43" data-hide-below="1200" data-light-bg="#666f76" data-light-fg="#f9f9f9"></script><script defer data-domain="tidyr.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script><script async src="https://widget.kapa.ai/kapa-widget.bundle.js" data-button-hide="true" data-modal-disclaimer="This is a custom LLM for answering questions about dplyr, tidyr, and ggplot2. Answers are based on the contents of the documentation. Rate the answers to let us know what you think!" data-modal-ask-ai-input-placeholder="Ask me a question about dplyr, tidyr, or ggplot2." data-modal-header-bg-color="#f9f9f9" data-modal-override-open-class="open-kapa-widget" data-project-color="#365a7a" data-project-name="tidyr" data-modal-title="tidyverse AI ✨" data-project-logo="https://avatars.githubusercontent.com/u/22032646?s=200&amp;u=235532df5cf8543246812f73db051b793f868807&amp;v=4" data-user-analytics-fingerprint-enabled="true" data-bot-protection-mechanism="hcaptcha" data-website-id="34242a59-6aeb-4105-9065-86e16bf56a0f"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tidyr</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.3.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/tidy-data.html">Tidy data</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/pivot.html">Pivoting</a></li>
    <li><a class="dropdown-item" href="../articles/rectangle.html">Rectangling</a></li>
    <li><a class="dropdown-item" href="../articles/nest.html">Nested data</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2023/01/tidyr-1-3-0/">Version 1.3.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2022/02/tidyr-1-2-0/">Version 1.2.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2020/05/tidyr-1.1.0/">Version 1.1.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/09/tidyr-1-0-0/">Version 1.0.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/02/tidyr-0-8-0/">Version 0.8.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2017/08/tidyr-0.7.0/">Version 0.7.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/tidyr-0-6-0/">Version 0.6.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/tidyr-0-5-0/">Version 0.5.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/tidyr-0-4-0/">Version 0.4.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/tidyr-0-3-0/">Version 0.3.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/tidyr-0-2-0/">Version 0.2.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/introducing-tidyr/">Version 0.1.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tidyverse/tidyr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link open-kapa-widget" href="../#">Ask AI ✨</a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Fill in missing values with previous or next value</h1>
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/tidyr/blob/main/R/fill.R" class="external-link"><code>R/fill.R</code></a></small>
      <div class="d-none name"><code>fill.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Fills missing values in selected columns using the next or previous entry.
This is useful in the common output format where values are not repeated,
and are only recorded when they change.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fill</span><span class="op">(</span><span class="va">data</span>, <span class="va">...</span>, .by <span class="op">=</span> <span class="cn">NULL</span>, .direction <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"down"</span>, <span class="st">"up"</span>, <span class="st">"downup"</span>, <span class="st">"updown"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>&lt;<code><a href="tidyr_tidy_select.html">tidy-select</a></code>&gt; Columns to fill.</p></dd>


<dt id="arg--by">.by<a class="anchor" aria-label="anchor" href="#arg--by"></a></dt>
<dd><p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a></p>
<p>&lt;<code><a href="https://dplyr.tidyverse.org/reference/dplyr_tidy_select.html" class="external-link">tidy-select</a></code>&gt; Optionally, a selection of columns to
group by for just this operation, functioning as an alternative to <code><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by()</a></code>. For
details and examples, see <a href="https://dplyr.tidyverse.org/reference/dplyr_by.html" class="external-link">?dplyr_by</a>.</p></dd>


<dt id="arg--direction">.direction<a class="anchor" aria-label="anchor" href="#arg--direction"></a></dt>
<dd><p>Direction in which to fill missing values. Currently
either "down" (the default), "up", "downup" (i.e. first down and then up)
or "updown" (first up and then down).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Missing values are replaced in atomic vectors; <code>NULL</code>s are replaced in lists.</p>
    </div>
    <div class="section level2">
    <h2 id="grouped-data-frames">Grouped data frames<a class="anchor" aria-label="anchor" href="#grouped-data-frames"></a></h2>


<p>With grouped data frames created by <code><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">dplyr::group_by()</a></code>, <code>fill()</code> will be
applied <em>within</em> each group, meaning that it won't fill across group
boundaries. This can also be accomplished using the <code>.by</code> argument to
<code>fill()</code>, which creates a temporary grouping for just this operation.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># direction = "down" --------------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co"># Value (year) is recorded only when it changes</span></span></span>
<span class="r-in"><span><span class="va">sales</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="op">~</span><span class="va">quarter</span>, <span class="op">~</span><span class="va">year</span>, <span class="op">~</span><span class="va">sales</span>,</span></span>
<span class="r-in"><span>  <span class="st">"Q1"</span>,    <span class="fl">2000</span>,    <span class="fl">66013</span>,</span></span>
<span class="r-in"><span>  <span class="st">"Q2"</span>,      <span class="cn">NA</span>,    <span class="fl">69182</span>,</span></span>
<span class="r-in"><span>  <span class="st">"Q3"</span>,      <span class="cn">NA</span>,    <span class="fl">53175</span>,</span></span>
<span class="r-in"><span>  <span class="st">"Q4"</span>,      <span class="cn">NA</span>,    <span class="fl">21001</span>,</span></span>
<span class="r-in"><span>  <span class="st">"Q1"</span>,    <span class="fl">2001</span>,    <span class="fl">46036</span>,</span></span>
<span class="r-in"><span>  <span class="st">"Q2"</span>,      <span class="cn">NA</span>,    <span class="fl">58842</span>,</span></span>
<span class="r-in"><span>  <span class="st">"Q3"</span>,      <span class="cn">NA</span>,    <span class="fl">44568</span>,</span></span>
<span class="r-in"><span>  <span class="st">"Q4"</span>,      <span class="cn">NA</span>,    <span class="fl">50197</span>,</span></span>
<span class="r-in"><span>  <span class="st">"Q1"</span>,    <span class="fl">2002</span>,    <span class="fl">39113</span>,</span></span>
<span class="r-in"><span>  <span class="st">"Q2"</span>,      <span class="cn">NA</span>,    <span class="fl">41668</span>,</span></span>
<span class="r-in"><span>  <span class="st">"Q3"</span>,      <span class="cn">NA</span>,    <span class="fl">30144</span>,</span></span>
<span class="r-in"><span>  <span class="st">"Q4"</span>,      <span class="cn">NA</span>,    <span class="fl">52897</span>,</span></span>
<span class="r-in"><span>  <span class="st">"Q1"</span>,    <span class="fl">2004</span>,    <span class="fl">32129</span>,</span></span>
<span class="r-in"><span>  <span class="st">"Q2"</span>,      <span class="cn">NA</span>,    <span class="fl">67686</span>,</span></span>
<span class="r-in"><span>  <span class="st">"Q3"</span>,      <span class="cn">NA</span>,    <span class="fl">31768</span>,</span></span>
<span class="r-in"><span>  <span class="st">"Q4"</span>,      <span class="cn">NA</span>,    <span class="fl">49094</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># `fill()` defaults to replacing missing data from top to bottom</span></span></span>
<span class="r-in"><span><span class="va">sales</span> <span class="op">|&gt;</span> <span class="fu">fill</span><span class="op">(</span><span class="va">year</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 16 × 3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    quarter  year sales</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> Q1       <span style="text-decoration: underline;">2</span>000 <span style="text-decoration: underline;">66</span>013</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> Q2       <span style="text-decoration: underline;">2</span>000 <span style="text-decoration: underline;">69</span>182</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> Q3       <span style="text-decoration: underline;">2</span>000 <span style="text-decoration: underline;">53</span>175</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> Q4       <span style="text-decoration: underline;">2</span>000 <span style="text-decoration: underline;">21</span>001</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> Q1       <span style="text-decoration: underline;">2</span>001 <span style="text-decoration: underline;">46</span>036</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> Q2       <span style="text-decoration: underline;">2</span>001 <span style="text-decoration: underline;">58</span>842</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> Q3       <span style="text-decoration: underline;">2</span>001 <span style="text-decoration: underline;">44</span>568</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> Q4       <span style="text-decoration: underline;">2</span>001 <span style="text-decoration: underline;">50</span>197</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> Q1       <span style="text-decoration: underline;">2</span>002 <span style="text-decoration: underline;">39</span>113</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> Q2       <span style="text-decoration: underline;">2</span>002 <span style="text-decoration: underline;">41</span>668</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span> Q3       <span style="text-decoration: underline;">2</span>002 <span style="text-decoration: underline;">30</span>144</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">12</span> Q4       <span style="text-decoration: underline;">2</span>002 <span style="text-decoration: underline;">52</span>897</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">13</span> Q1       <span style="text-decoration: underline;">2</span>004 <span style="text-decoration: underline;">32</span>129</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">14</span> Q2       <span style="text-decoration: underline;">2</span>004 <span style="text-decoration: underline;">67</span>686</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">15</span> Q3       <span style="text-decoration: underline;">2</span>004 <span style="text-decoration: underline;">31</span>768</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">16</span> Q4       <span style="text-decoration: underline;">2</span>004 <span style="text-decoration: underline;">49</span>094</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># direction = "up" ----------------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co"># Value (pet_type) is missing above</span></span></span>
<span class="r-in"><span><span class="va">tidy_pets</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="op">~</span><span class="va">rank</span>, <span class="op">~</span><span class="va">pet_type</span>, <span class="op">~</span><span class="va">breed</span>,</span></span>
<span class="r-in"><span>  <span class="fl">1L</span>,        <span class="cn">NA</span>,    <span class="st">"Boston Terrier"</span>,</span></span>
<span class="r-in"><span>  <span class="fl">2L</span>,        <span class="cn">NA</span>,    <span class="st">"Retrievers (Labrador)"</span>,</span></span>
<span class="r-in"><span>  <span class="fl">3L</span>,        <span class="cn">NA</span>,    <span class="st">"Retrievers (Golden)"</span>,</span></span>
<span class="r-in"><span>  <span class="fl">4L</span>,        <span class="cn">NA</span>,    <span class="st">"French Bulldogs"</span>,</span></span>
<span class="r-in"><span>  <span class="fl">5L</span>,        <span class="cn">NA</span>,    <span class="st">"Bulldogs"</span>,</span></span>
<span class="r-in"><span>  <span class="fl">6L</span>,     <span class="st">"Dog"</span>,    <span class="st">"Beagles"</span>,</span></span>
<span class="r-in"><span>  <span class="fl">1L</span>,        <span class="cn">NA</span>,    <span class="st">"Persian"</span>,</span></span>
<span class="r-in"><span>  <span class="fl">2L</span>,        <span class="cn">NA</span>,    <span class="st">"Maine Coon"</span>,</span></span>
<span class="r-in"><span>  <span class="fl">3L</span>,        <span class="cn">NA</span>,    <span class="st">"Ragdoll"</span>,</span></span>
<span class="r-in"><span>  <span class="fl">4L</span>,        <span class="cn">NA</span>,    <span class="st">"Exotic"</span>,</span></span>
<span class="r-in"><span>  <span class="fl">5L</span>,        <span class="cn">NA</span>,    <span class="st">"Siamese"</span>,</span></span>
<span class="r-in"><span>  <span class="fl">6L</span>,     <span class="st">"Cat"</span>,    <span class="st">"American Short"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># For values that are missing above you can use `.direction = "up"`</span></span></span>
<span class="r-in"><span><span class="va">tidy_pets</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">fill</span><span class="op">(</span><span class="va">pet_type</span>, .direction <span class="op">=</span> <span class="st">"up"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 12 × 3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     rank pet_type breed                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>     1 Dog      Boston Terrier       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>     2 Dog      Retrievers (Labrador)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>     3 Dog      Retrievers (Golden)  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>     4 Dog      French Bulldogs      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>     5 Dog      Bulldogs             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>     6 Dog      Beagles              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>     1 Cat      Persian              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>     2 Cat      Maine Coon           </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>     3 Cat      Ragdoll              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>     4 Cat      Exotic               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span>     5 Cat      Siamese              </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">12</span>     6 Cat      American Short       </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># direction = "downup" ------------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co"># Value (n_squirrels) is missing above and below within a group</span></span></span>
<span class="r-in"><span><span class="va">squirrels</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="op">~</span><span class="va">group</span>,    <span class="op">~</span><span class="va">name</span>,     <span class="op">~</span><span class="va">role</span>,     <span class="op">~</span><span class="va">n_squirrels</span>,</span></span>
<span class="r-in"><span>  <span class="fl">1</span>,      <span class="st">"Sam"</span>,    <span class="st">"Observer"</span>,   <span class="cn">NA</span>,</span></span>
<span class="r-in"><span>  <span class="fl">1</span>,     <span class="st">"Mara"</span>, <span class="st">"Scorekeeper"</span>,    <span class="fl">8</span>,</span></span>
<span class="r-in"><span>  <span class="fl">1</span>,    <span class="st">"Jesse"</span>,    <span class="st">"Observer"</span>,   <span class="cn">NA</span>,</span></span>
<span class="r-in"><span>  <span class="fl">1</span>,      <span class="st">"Tom"</span>,    <span class="st">"Observer"</span>,   <span class="cn">NA</span>,</span></span>
<span class="r-in"><span>  <span class="fl">2</span>,     <span class="st">"Mike"</span>,    <span class="st">"Observer"</span>,   <span class="cn">NA</span>,</span></span>
<span class="r-in"><span>  <span class="fl">2</span>,  <span class="st">"Rachael"</span>,    <span class="st">"Observer"</span>,   <span class="cn">NA</span>,</span></span>
<span class="r-in"><span>  <span class="fl">2</span>,  <span class="st">"Sydekea"</span>, <span class="st">"Scorekeeper"</span>,   <span class="fl">14</span>,</span></span>
<span class="r-in"><span>  <span class="fl">2</span>, <span class="st">"Gabriela"</span>,    <span class="st">"Observer"</span>,   <span class="cn">NA</span>,</span></span>
<span class="r-in"><span>  <span class="fl">3</span>,  <span class="st">"Derrick"</span>,    <span class="st">"Observer"</span>,   <span class="cn">NA</span>,</span></span>
<span class="r-in"><span>  <span class="fl">3</span>,     <span class="st">"Kara"</span>, <span class="st">"Scorekeeper"</span>,    <span class="fl">9</span>,</span></span>
<span class="r-in"><span>  <span class="fl">3</span>,    <span class="st">"Emily"</span>,    <span class="st">"Observer"</span>,   <span class="cn">NA</span>,</span></span>
<span class="r-in"><span>  <span class="fl">3</span>, <span class="st">"Danielle"</span>,    <span class="st">"Observer"</span>,   <span class="cn">NA</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The values are inconsistently missing by position within the `group`.</span></span></span>
<span class="r-in"><span><span class="co"># Use `.direction = "downup"` to fill missing values in both directions</span></span></span>
<span class="r-in"><span><span class="co"># and `.by = group` to apply the fill per group.</span></span></span>
<span class="r-in"><span><span class="va">squirrels</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">fill</span><span class="op">(</span><span class="va">n_squirrels</span>, .direction <span class="op">=</span> <span class="st">"downup"</span>, .by <span class="op">=</span> <span class="va">group</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 12 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    group name     role        n_squirrels</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>     1 Sam      Observer              8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>     1 Mara     Scorekeeper           8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>     1 Jesse    Observer              8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>     1 Tom      Observer              8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>     2 Mike     Observer             14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>     2 Rachael  Observer             14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>     2 Sydekea  Scorekeeper          14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>     2 Gabriela Observer             14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>     3 Derrick  Observer              9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>     3 Kara     Scorekeeper           9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span>     3 Emily    Observer              9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">12</span>     3 Danielle Observer              9</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># If you want, you can also supply a data frame grouped with `group_by()`,</span></span></span>
<span class="r-in"><span><span class="co"># but don't forget to `ungroup()`!</span></span></span>
<span class="r-in"><span><span class="va">squirrels</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">fill</span><span class="op">(</span><span class="va">n_squirrels</span>, .direction <span class="op">=</span> <span class="st">"downup"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 12 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    group name     role        n_squirrels</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>     1 Sam      Observer              8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>     1 Mara     Scorekeeper           8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>     1 Jesse    Observer              8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>     1 Tom      Observer              8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>     2 Mike     Observer             14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>     2 Rachael  Observer             14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>     2 Sydekea  Scorekeeper          14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>     2 Gabriela Observer             14</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>     3 Derrick  Observer              9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>     3 Kara     Scorekeeper           9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span>     3 Emily    Observer              9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">12</span>     3 Danielle Observer              9</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://github.com/DavisVaughan" class="external-link">Davis Vaughan</a>, Maximilian Girlich, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

  </div></footer></body></html>

