<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Split a string into columns — separate_wider_delim • tidyr</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Split a string into columns — separate_wider_delim"><meta name="description" content="
Each of these functions takes a string column and splits it into multiple
new columns:
separate_wider_delim() splits by delimiter.
separate_wider_position() splits at fixed widths.
separate_wider_regex() splits with regular expression matches.


These functions are equivalent to separate() and extract(), but use
stringr as the underlying string
manipulation engine, and their interfaces reflect what we've learned from
unnest_wider() and unnest_longer()."><meta property="og:description" content="
Each of these functions takes a string column and splits it into multiple
new columns:
separate_wider_delim() splits by delimiter.
separate_wider_position() splits at fixed widths.
separate_wider_regex() splits with regular expression matches.


These functions are equivalent to separate() and extract(), but use
stringr as the underlying string
manipulation engine, and their interfaces reflect what we've learned from
unnest_wider() and unnest_longer()."><meta property="og:image" content="https://tidyr.tidyverse.org/logo.png"><meta name="robots" content="noindex"><script defer data-domain="tidyr.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script><script async src="https://widget.kapa.ai/kapa-widget.bundle.js" data-button-hide="true" data-modal-disclaimer="This is a custom LLM for answering questions about dplyr, tidyr, and ggplot2. Answers are based on the contents of the documentation. Rate the answers to let us know what you think!" data-modal-ask-ai-input-placeholder="Ask me a question about dplyr, tidyr, or ggplot2." data-modal-header-bg-color="#f9f9f9" data-modal-override-open-class="open-kapa-widget" data-project-color="#365a7a" data-project-name="tidyr" data-modal-title="tidyverse AI ✨" data-project-logo="https://avatars.githubusercontent.com/u/22032646?s=200&amp;u=235532df5cf8543246812f73db051b793f868807&amp;v=4" data-user-analytics-fingerprint-enabled="true" data-bot-protection-mechanism="hcaptcha" data-website-id="34242a59-6aeb-4105-9065-86e16bf56a0f"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tidyr</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.3.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/tidy-data.html">Tidy data</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/pivot.html">Pivoting</a></li>
    <li><a class="dropdown-item" href="../articles/rectangle.html">Rectangling</a></li>
    <li><a class="dropdown-item" href="../articles/nest.html">Nested data</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2023/01/tidyr-1-3-0/">Version 1.3.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2022/02/tidyr-1-2-0/">Version 1.2.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2020/05/tidyr-1.1.0/">Version 1.1.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/09/tidyr-1-0-0/">Version 1.0.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/02/tidyr-0-8-0/">Version 0.8.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2017/08/tidyr-0.7.0/">Version 0.7.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/tidyr-0-6-0/">Version 0.6.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/tidyr-0-5-0/">Version 0.5.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/tidyr-0-4-0/">Version 0.4.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/tidyr-0-3-0/">Version 0.3.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/tidyr-0-2-0/">Version 0.2.0</a></li>
    <li><a class="external-link dropdown-item" href="https://posit.co/blog/introducing-tidyr/">Version 0.1.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tidyverse/tidyr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link open-kapa-widget" href="../#">Ask AI ✨</a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Split a string into columns</h1>
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/tidyr/blob/main/R/separate-wider.R" class="external-link"><code>R/separate-wider.R</code></a></small>
      <div class="d-none name"><code>separate_wider_delim.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a></p>
<p>Each of these functions takes a string column and splits it into multiple
new columns:</p><ul><li><p><code>separate_wider_delim()</code> splits by delimiter.</p></li>
<li><p><code>separate_wider_position()</code> splits at fixed widths.</p></li>
<li><p><code>separate_wider_regex()</code> splits with regular expression matches.</p></li>
</ul><p>These functions are equivalent to <code><a href="separate.html">separate()</a></code> and <code><a href="extract.html">extract()</a></code>, but use
<a href="https://stringr.tidyverse.org/" class="external-link">stringr</a> as the underlying string
manipulation engine, and their interfaces reflect what we've learned from
<code><a href="unnest_wider.html">unnest_wider()</a></code> and <code><a href="unnest_longer.html">unnest_longer()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">separate_wider_delim</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">cols</span>,</span>
<span>  <span class="va">delim</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  names <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  names_sep <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  names_repair <span class="op">=</span> <span class="st">"check_unique"</span>,</span>
<span>  too_few <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"error"</span>, <span class="st">"debug"</span>, <span class="st">"align_start"</span>, <span class="st">"align_end"</span><span class="op">)</span>,</span>
<span>  too_many <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"error"</span>, <span class="st">"debug"</span>, <span class="st">"drop"</span>, <span class="st">"merge"</span><span class="op">)</span>,</span>
<span>  cols_remove <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">separate_wider_position</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">cols</span>,</span>
<span>  <span class="va">widths</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  names_sep <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  names_repair <span class="op">=</span> <span class="st">"check_unique"</span>,</span>
<span>  too_few <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"error"</span>, <span class="st">"debug"</span>, <span class="st">"align_start"</span><span class="op">)</span>,</span>
<span>  too_many <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"error"</span>, <span class="st">"debug"</span>, <span class="st">"drop"</span><span class="op">)</span>,</span>
<span>  cols_remove <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">separate_wider_regex</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">cols</span>,</span>
<span>  <span class="va">patterns</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  names_sep <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  names_repair <span class="op">=</span> <span class="st">"check_unique"</span>,</span>
<span>  too_few <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"error"</span>, <span class="st">"debug"</span>, <span class="st">"align_start"</span><span class="op">)</span>,</span>
<span>  cols_remove <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data frame.</p></dd>


<dt id="arg-cols">cols<a class="anchor" aria-label="anchor" href="#arg-cols"></a></dt>
<dd><p>&lt;<code><a href="tidyr_tidy_select.html">tidy-select</a></code>&gt; Columns to separate.</p></dd>


<dt id="arg-delim">delim<a class="anchor" aria-label="anchor" href="#arg-delim"></a></dt>
<dd><p>For <code>separate_wider_delim()</code>, a string giving the delimiter
between values. By default, it is interpreted as a fixed string; use
<code><a href="https://stringr.tidyverse.org/reference/modifiers.html" class="external-link">stringr::regex()</a></code> and friends to split in other ways.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>These dots are for future extensions and must be empty.</p></dd>


<dt id="arg-names">names<a class="anchor" aria-label="anchor" href="#arg-names"></a></dt>
<dd><p>For <code>separate_wider_delim()</code>, a character vector of output
column names. Use <code>NA</code> if there are components that you don't want
to appear in the output; the number of non-<code>NA</code> elements determines the
number of new columns in the result.</p></dd>


<dt id="arg-names-sep">names_sep<a class="anchor" aria-label="anchor" href="#arg-names-sep"></a></dt>
<dd><p>If supplied, output names will be composed
of the input column name followed by the separator followed by the
new column name. Required when <code>cols</code> selects multiple columns.</p>
<p>For <code>separate_wider_delim()</code> you can specify instead of <code>names</code>, in which
case the names will be generated from the source column name, <code>names_sep</code>,
and a numeric suffix.</p></dd>


<dt id="arg-names-repair">names_repair<a class="anchor" aria-label="anchor" href="#arg-names-repair"></a></dt>
<dd><p>Used to check that output data frame has valid
names. Must be one of the following options:</p><ul><li><p><code>"minimal</code>": no name repair or checks, beyond basic existence,</p></li>
<li><p><code>"unique</code>": make sure names are unique and not empty,</p></li>
<li><p><code>"check_unique</code>": (the default), no name repair, but check they are unique,</p></li>
<li><p><code>"universal</code>": make the names unique and syntactic</p></li>
<li><p>a function: apply custom name repair.</p></li>
<li><p><a href="tidyr_legacy.html">tidyr_legacy</a>: use the name repair from tidyr 0.8.</p></li>
<li><p>a formula: a purrr-style anonymous function (see <code><a href="https://rlang.r-lib.org/reference/as_function.html" class="external-link">rlang::as_function()</a></code>)</p></li>
</ul><p>See <code><a href="https://vctrs.r-lib.org/reference/vec_as_names.html" class="external-link">vctrs::vec_as_names()</a></code> for more details on these terms and the
strategies used to enforce them.</p></dd>


<dt id="arg-too-few">too_few<a class="anchor" aria-label="anchor" href="#arg-too-few"></a></dt>
<dd><p>What should happen if a value separates into too few
pieces?</p><ul><li><p><code>"error"</code>, the default, will throw an error.</p></li>
<li><p><code>"debug"</code> adds additional columns to the output to help you
locate and resolve the underlying problem. This option is intended to
help you debug the issue and address and should not generally remain in
your final code.</p></li>
<li><p><code>"align_start"</code> aligns starts of short matches, adding <code>NA</code> on the end
to pad to the correct length.</p></li>
<li><p><code>"align_end"</code> (<code>separate_wider_delim()</code> only) aligns the ends of short
matches, adding <code>NA</code> at the start to pad to the correct length.</p></li>
</ul></dd>


<dt id="arg-too-many">too_many<a class="anchor" aria-label="anchor" href="#arg-too-many"></a></dt>
<dd><p>What should happen if a value separates into too many
pieces?</p><ul><li><p><code>"error"</code>, the default, will throw an error.</p></li>
<li><p><code>"debug"</code> will add additional columns to the output to help you
locate and resolve the underlying problem.</p></li>
<li><p><code>"drop"</code> will silently drop any extra pieces.</p></li>
<li><p><code>"merge"</code> (<code>separate_wider_delim()</code> only) will merge together any
additional pieces.</p></li>
</ul></dd>


<dt id="arg-cols-remove">cols_remove<a class="anchor" aria-label="anchor" href="#arg-cols-remove"></a></dt>
<dd><p>Should the input <code>cols</code> be removed from the output?
Always <code>FALSE</code> if <code>too_few</code> or <code>too_many</code> are set to <code>"debug"</code>.</p></dd>


<dt id="arg-widths">widths<a class="anchor" aria-label="anchor" href="#arg-widths"></a></dt>
<dd><p>A named numeric vector where the names become column names,
and the values specify the column width. Unnamed components will match,
but not be included in the output.</p></dd>


<dt id="arg-patterns">patterns<a class="anchor" aria-label="anchor" href="#arg-patterns"></a></dt>
<dd><p>A named character vector where the names become column names
and the values are regular expressions that match the contents of the
vector. Unnamed components will match, but not be included in the output.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame based on <code>data</code>. It has the same rows, but different
columns:</p><ul><li><p>The primary purpose of the functions are to create new columns from
components of the string.
For <code>separate_wider_delim()</code> the names of new columns come from <code>names</code>.
For <code>separate_wider_position()</code> the names come from the names of <code>widths</code>.
For <code>separate_wider_regex()</code> the names come from the names of
<code>patterns</code>.</p></li>
<li><p>If <code>too_few</code> or <code>too_many</code> is <code>"debug"</code>, the output will contain additional
columns useful for debugging:</p><ul><li><p><code>{col}_ok</code>: a logical vector which tells you if the input was ok or
not. Use to quickly find the problematic rows.</p></li>
<li><p><code>{col}_remainder</code>: any text remaining after separation.</p></li>
<li><p><code>{col}_pieces</code>, <code>{col}_width</code>, <code>{col}_matches</code>: number of pieces,
number of characters, and number of matches for <code>separate_wider_delim()</code>,
<code>separate_wider_position()</code> and <code>separate_regexp_wider()</code> respectively.</p></li>
</ul></li>
<li><p>If <code>cols_remove = TRUE</code> (the default), the input <code>cols</code> will be removed
from the output.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"m-123"</span>, <span class="st">"f-455"</span>, <span class="st">"f-123"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># There are three basic ways to split up a string into pieces:</span></span></span>
<span class="r-in"><span><span class="co"># 1. with a delimiter</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">|&gt;</span> <span class="fu">separate_wider_delim</span><span class="op">(</span><span class="va">x</span>, delim <span class="op">=</span> <span class="st">"-"</span>, names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"gender"</span>, <span class="st">"unit"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 3 × 3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      id gender unit </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>     1 m      123  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>     2 f      455  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>     3 f      123  </span>
<span class="r-in"><span><span class="co"># 2. by length</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">|&gt;</span> <span class="fu">separate_wider_position</span><span class="op">(</span><span class="va">x</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>gender <span class="op">=</span> <span class="fl">1</span>, <span class="fl">1</span>, unit <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 3 × 3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      id gender unit </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>     1 m      123  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>     2 f      455  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>     3 f      123  </span>
<span class="r-in"><span><span class="co"># 3. defining each component with a regular expression</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">|&gt;</span> <span class="fu">separate_wider_regex</span><span class="op">(</span><span class="va">x</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>gender <span class="op">=</span> <span class="st">"."</span>, <span class="st">"."</span>, unit <span class="op">=</span> <span class="st">"\\d+"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 3 × 3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      id gender unit </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>     1 m      123  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>     2 f      455  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>     3 f      123  </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Sometimes you split on the "last" delimiter</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>var <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"race_1"</span>, <span class="st">"race_2"</span>, <span class="st">"age_bucket_1"</span>, <span class="st">"age_bucket_2"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># _delim won't help because it always splits on the first delimiter</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="va">df</span> <span class="op">|&gt;</span> <span class="fu">separate_wider_delim</span><span class="op">(</span><span class="va">var</span>, <span class="st">"_"</span>, names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"var1"</span>, <span class="st">"var2"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error in separate_wider_delim(df, var, "_", names = c("var1", "var2")) : </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Expected 2 pieces in each element of `var`.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> 2 values were too long.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Use `too_many = "debug"` to diagnose the problem.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Use `too_many = "drop"/"merge"` to silence this message.</span>
<span class="r-in"><span><span class="va">df</span> <span class="op">|&gt;</span> <span class="fu">separate_wider_delim</span><span class="op">(</span><span class="va">var</span>, <span class="st">"_"</span>, names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"var1"</span>, <span class="st">"var2"</span><span class="op">)</span>, too_many <span class="op">=</span> <span class="st">"merge"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 4 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   var1  var2    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> race  1       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> race  2       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> age   bucket_1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> age   bucket_2</span>
<span class="r-in"><span><span class="co"># Instead, you can use _regex</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">|&gt;</span> <span class="fu">separate_wider_regex</span><span class="op">(</span><span class="va">var</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>var1 <span class="op">=</span> <span class="st">".*"</span>, <span class="st">"_"</span>, var2 <span class="op">=</span> <span class="st">".*"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 4 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   var1       var2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> race       1    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> race       2    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> age_bucket 1    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> age_bucket 2    </span>
<span class="r-in"><span><span class="co"># this works because * is greedy; you can mimic the _delim behaviour with .*?</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">|&gt;</span> <span class="fu">separate_wider_regex</span><span class="op">(</span><span class="va">var</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>var1 <span class="op">=</span> <span class="st">".*?"</span>, <span class="st">"_"</span>, var2 <span class="op">=</span> <span class="st">".*"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 4 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   var1  var2    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> race  1       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> race  2       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> age   bucket_1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> age   bucket_2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># If the number of components varies, it's most natural to split into rows</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x"</span>, <span class="st">"x y"</span>, <span class="st">"x y z"</span>, <span class="cn">NA</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">|&gt;</span> <span class="fu"><a href="separate_longer_delim.html">separate_longer_delim</a></span><span class="op">(</span><span class="va">x</span>, delim <span class="op">=</span> <span class="st">" "</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 7 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      id x    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>     1 x    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>     2 x    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>     2 y    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>     3 x    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span>     3 y    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span>     3 z    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">7</span>     4 <span style="color: #BB0000;">NA</span>   </span>
<span class="r-in"><span><span class="co"># But separate_wider_delim() provides some tools to deal with the problem</span></span></span>
<span class="r-in"><span><span class="co"># The default behaviour tells you that there's a problem</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="va">df</span> <span class="op">|&gt;</span> <span class="fu">separate_wider_delim</span><span class="op">(</span><span class="va">x</span>, delim <span class="op">=</span> <span class="st">" "</span>, names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error in separate_wider_delim(df, x, delim = " ", names = c("a", "b")) : </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Expected 2 pieces in each element of `x`.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> 1 value was too short.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Use `too_few = "debug"` to diagnose the problem.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Use `too_few = "align_start"/"align_end"` to silence this message.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> 1 value was too long.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Use `too_many = "debug"` to diagnose the problem.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> Use `too_many = "drop"/"merge"` to silence this message.</span>
<span class="r-in"><span><span class="co"># You can get additional insight by using the debug options</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">separate_wider_delim</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">x</span>,</span></span>
<span class="r-in"><span>    delim <span class="op">=</span> <span class="st">" "</span>,</span></span>
<span class="r-in"><span>    names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    too_few <span class="op">=</span> <span class="st">"debug"</span>,</span></span>
<span class="r-in"><span>    too_many <span class="op">=</span> <span class="st">"debug"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Debug mode activated: adding variables `x_ok`, `x_pieces`, and</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> `x_remainder`.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 4 × 7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      id a     b     x     x_ok  x_pieces x_remainder</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>     1 x     <span style="color: #BB0000;">NA</span>    x     FALSE        1 <span style="color: #949494;">""</span>         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>     2 x     y     x y   TRUE         2 <span style="color: #949494;">""</span>         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>     3 x     y     x y z FALSE        3 <span style="color: #949494;">"</span> z<span style="color: #949494;">"</span>       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>     4 <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>    TRUE        <span style="color: #BB0000;">NA</span>  <span style="color: #BB0000;">NA</span>        </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># But you can suppress the warnings</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">separate_wider_delim</span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">x</span>,</span></span>
<span class="r-in"><span>    delim <span class="op">=</span> <span class="st">" "</span>,</span></span>
<span class="r-in"><span>    names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    too_few <span class="op">=</span> <span class="st">"align_start"</span>,</span></span>
<span class="r-in"><span>    too_many <span class="op">=</span> <span class="st">"merge"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 4 × 3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      id a     b    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>     1 x     <span style="color: #BB0000;">NA</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>     2 x     y    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>     3 x     y z  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>     4 <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>   </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Or choose to automatically name the columns, producing as many as needed</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">|&gt;</span> <span class="fu">separate_wider_delim</span><span class="op">(</span><span class="va">x</span>, delim <span class="op">=</span> <span class="st">" "</span>, names_sep <span class="op">=</span> <span class="st">""</span>, too_few <span class="op">=</span> <span class="st">"align_start"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 4 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      id x1    x2    x3   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>     1 x     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>     2 x     y     <span style="color: #BB0000;">NA</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>     3 x     y     z    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>     4 <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>   </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://github.com/DavisVaughan" class="external-link">Davis Vaughan</a>, Maximilian Girlich, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

  </div></footer></body></html>

